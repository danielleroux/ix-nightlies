{"version":3,"file":"tree.ct.js","sourceRoot":"","sources":["../../../../../src/components/tree/test/tree.ct.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { expect, Locator, Page } from '@playwright/test';\nimport { test } from '@utils/test';\n\nconst defaultModel = {\n  root: {\n    id: 'root',\n    data: {\n      name: '',\n    },\n    hasChildren: true,\n    children: ['sample'],\n  },\n  sample: {\n    id: 'sample',\n    data: {\n      name: 'Sample',\n    },\n    hasChildren: true,\n    children: ['sample-child-1', 'sample-child-2', 'sample-child-3'],\n  },\n  'sample-child-1': {\n    id: 'sample-child-1',\n    data: {\n      name: 'Sample Child 1',\n    },\n    hasChildren: false,\n    children: [],\n  },\n  'sample-child-2': {\n    id: 'sample-child-2',\n    data: {\n      name: 'Sample Child 2',\n    },\n    hasChildren: true,\n    children: ['sample-child-4'],\n  },\n  'sample-child-3': {\n    id: 'sample-child-3',\n    data: {\n      name: 'Sample Child 3',\n    },\n    hasChildren: false,\n    children: [],\n  },\n  'sample-child-4': {\n    id: 'sample-child-4',\n    data: {\n      name: 'Sample Child 4',\n    },\n    hasChildren: false,\n    children: [],\n  },\n};\n\nconst initializeTree = async (mount, page: Page) => {\n  await mount(`\n      <div style=\" height: 20rem; width: 100%;\">\n        <ix-tree root=\"root\"></ix-tree>\n      </div>\n    `);\n  const tree = page.locator('ix-tree');\n\n  await tree.evaluate(\n    (element: HTMLIxTreeElement, [model]) => {\n      element.model = model;\n    },\n    [defaultModel]\n  );\n\n  const item = tree.locator('ix-tree-item').nth(0);\n  await expect(tree).toHaveClass(/hydrated/);\n  await expect(item).toBeVisible();\n\n  return tree;\n};\n\nconst updateModel = async (tree: Locator, updatedModel: any) => {\n  await tree.evaluate(\n    (element: HTMLIxTreeElement, [model]) => {\n      element.model = model;\n    },\n    [updatedModel]\n  );\n};\n\ntest('renders', async ({ mount, page }) => {\n  const tree = await initializeTree(mount, page);\n  const item = tree.locator('ix-tree-item').nth(0);\n  await expect(tree).toHaveClass(/hydrated/);\n  await expect(item).toBeVisible();\n});\n\ntest('update tree', async ({ mount, page }) => {\n  const tree = await initializeTree(mount, page);\n\n  const item = tree.locator('ix-tree-item').nth(0);\n  await item.locator('.icon-toggle-container').click();\n\n  const item2 = tree.locator('ix-tree-item').nth(2);\n  await item2.locator('.icon-toggle-container').click();\n\n  const item3 = tree.locator('ix-tree-item').nth(4);\n  await expect(item3).toBeVisible();\n  await expect(item3).toHaveText('Sample Child 3');\n  await expect(item3).toHaveCSS('padding-left', '16px');\n\n  await updateModel(tree, {\n    root: {\n      id: 'root',\n      data: {\n        name: '',\n      },\n      hasChildren: true,\n      children: ['sample'],\n    },\n    sample: {\n      id: 'sample',\n      data: {\n        name: 'Sample',\n      },\n      hasChildren: true,\n      children: ['sample-child-1', 'sample-child-2'],\n    },\n    'sample-child-1': {\n      id: 'sample-child-1',\n      data: {\n        name: 'Sample Child 1',\n      },\n      hasChildren: false,\n      children: [],\n    },\n    'sample-child-2': {\n      id: 'sample-child-2',\n      data: {\n        name: 'Sample Child 2',\n      },\n      hasChildren: true,\n      children: ['sample-child-3', 'sample-child-4'],\n    },\n    'sample-child-3': {\n      id: 'sample-child-3',\n      data: {\n        name: 'Sample Child 3',\n      },\n      hasChildren: false,\n      children: [],\n    },\n    'sample-child-4': {\n      id: 'sample-child-4',\n      data: {\n        name: 'Sample Child 4',\n      },\n      hasChildren: false,\n      children: [],\n    },\n  });\n\n  await expect(tree).toHaveClass(/hydrated/);\n  await expect(item).toBeVisible();\n  await expect(item2).toBeVisible();\n\n  const newChildItem = tree.locator('ix-tree-item').nth(3);\n  await expect(newChildItem).toBeVisible();\n  await expect(newChildItem).toHaveCSS('padding-left', '32px');\n});\n"]}