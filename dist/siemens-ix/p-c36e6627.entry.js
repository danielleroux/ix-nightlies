import{r as t,h as o,H as i,g as e}from"./p-3b388d55.js";import{i as s,s as n,o as a,f as l,a as r,b as h,c as m}from"./p-b3f35666.js";const f='.text-xs{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.625rem;font-weight:400;line-height:1.4em;color:var(--theme-color-std-text)}.text-s{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:400;line-height:1.5em;color:var(--theme-color-std-text)}.text-caption{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:700;line-height:1.5em;color:var(--theme-color-std-text)}.text-caption-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.75rem;font-weight:700;line-height:1em;color:var(--theme-color-std-text)}.text-default{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:400;line-height:1.429em;color:var(--theme-color-std-text)}.text-default-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:400;line-height:1.143em;color:var(--theme-color-std-text)}.text-default-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:700;line-height:1.429em;color:var(--theme-color-std-text)}.text-default-title-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:0.875rem;font-weight:700;line-height:1.143em;color:var(--theme-color-std-text)}.text-l{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:400;line-height:1.5em;color:var(--theme-color-std-text)}.text-l-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:400;line-height:1.25em;color:var(--theme-color-std-text)}.text-l-title{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:700;line-height:1.5em;color:var(--theme-color-std-text)}.text-l-title-single{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1rem;font-weight:700;line-height:1.25em;color:var(--theme-color-std-text)}.text-h2{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1.375rem;font-weight:700;line-height:1.455em;color:var(--theme-color-std-text)}.text-xl{-webkit-font-smoothing:antialiased;-moz-osx-font-smooting:grayscale;font-family:Siemens Sans, sans-serif;font-size:1.375rem;font-weight:400;line-height:1.091em;color:var(--theme-color-std-text)}a{color:var(--theme-color-primary)}:host{display:inline-block;position:relative;width:100%}:host .validation-tooltip{background-color:var(--theme-tootlip--background);color:var(--theme-tooltip--color);padding:5px 10px;border-radius:4px;font-size:13px;border:1px solid var(--theme-tooltip--border-color);box-shadow:0 0 2px 0 rgba(0, 0, 40, 0.1), 0 4px 8px 0 rgba(0, 0, 40, 0.1), 0 12px 18px 0 rgba(0, 0, 40, 0.1)}:host .validation-tooltip #arrow,:host .validation-tooltip #arrow::before{position:absolute;width:8px;height:8px;background:inherit}:host .validation-tooltip #arrow{visibility:hidden}:host .validation-tooltip #arrow::before{visibility:visible;content:"";transform:rotate(45deg);background-color:var(--theme-tootlip--background)}:host .validation-tooltip>#arrow{bottom:-5px}:host .validation-tooltip>#arrow::before{border-right:1px solid var(--theme-tooltip--border-color);border-bottom:1px solid var(--theme-tooltip--border-color)}';const d=f;const c=class{constructor(o){t(this,o);this.onSubmitBind=this.onSubmit.bind(this);this.onInputFocusBind=this.onInputFocus.bind(this);this.message=undefined;this.placement="top";this.suppressAutomaticPlacement=false;this.isInputValid=true;this.tooltipPosition=undefined;this.arrowPosition=undefined}get arrow(){return this.hostElement.shadowRoot.querySelector("#arrow")}get inputElement(){return this.hostElement.querySelector("input")}get formElement(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.form}get tooltipElement(){return this.hostElement.shadowRoot.querySelector(".validation-tooltip")}destroyAutoUpdate(){if(this.tooltipElement){this.tooltipElement.style.display="none"}if(this.autoUpdateCleanup){this.autoUpdateCleanup()}}applyTooltipPosition(){this.tooltipElement.style.display="block";let t={strategy:"fixed",middleware:[s(),n(),a({mainAxis:8})]};if(!this.suppressAutomaticPlacement){t.middleware.push(l({fallbackStrategy:"initialPlacement"}))}t.placement=this.placement;this.autoUpdateCleanup=r(this.inputElement,this.tooltipElement,(async()=>{t.middleware=[...t.middleware,h({element:this.arrow})];const o=await m(this.inputElement,this.tooltipElement,t);if(o.middlewareData.arrow){const{x:t,y:i}=o.middlewareData.arrow;this.arrowPosition={x:t,y:i};Object.assign(this.arrow.style,{left:t!=null?`${t}px`:"",top:i!=null?`${i}px`:""})}this.tooltipPosition={x:o.x,y:o.y}}),{ancestorResize:true,ancestorScroll:true,elementResize:true})}componentDidLoad(){if(!this.inputElement){throw Error("Validation tooltip is only working with an direct input child.")}if(!this.formElement){throw Error("Validation tooltip is only working with an form element.")}this.formElement.addEventListener("submit",this.onSubmitBind);this.inputElement.addEventListener("focus",this.onInputFocusBind);this.observer=new MutationObserver((()=>{if(this.inputElement.classList.contains("is-invalid")){this.isInputValid=false;this.validationChanged()}}));this.observer.observe(this.inputElement,{childList:false,subtree:false,attributes:true,attributeFilter:["class"]})}onInputFocus(){this.isInputValid=true}onSubmit(){if(this.formElement.classList.contains("needs-validation")){this.isInputValid=this.inputElement.validity.valid}}disconnectedCallback(){var t,o,i;(t=this.observer)===null||t===void 0?void 0:t.disconnect();this.destroyAutoUpdate();(o=this.formElement)===null||o===void 0?void 0:o.removeEventListener("submit",this.onSubmitBind);(i=this.inputElement)===null||i===void 0?void 0:i.removeEventListener("focus",this.onInputFocusBind)}validationChanged(){if(!this.isInputValid){this.applyTooltipPosition()}else{this.destroyAutoUpdate()}}render(){var t,e;return o(i,{key:"09acc075c79e78bd80c821c43e4ba3954286371f"},o("slot",{key:"06849b20a8a01c653156a8626cab3643e8eb4da4"}),o("div",{key:"5ec83ac8901fdb886c0ef5887edb6e886a4ab821",role:"tooltip",style:{display:"none",position:"fixed",top:"0",left:"0",transform:`translate(${Math.round(((t=this.tooltipPosition)===null||t===void 0?void 0:t.x)||0)}px,${Math.round(((e=this.tooltipPosition)===null||e===void 0?void 0:e.y)||0)}px)`},class:"validation-tooltip text-default"},this.message,o("slot",{key:"020159ed64776f77bda8d1565d2051bfc78952cd",name:"tooltip-message"}),o("div",{key:"cda6cabdcfa6d46300ebb093e0fe399c49b3e6cb",id:"arrow"})))}get hostElement(){return e(this)}static get watchers(){return{isInputValid:["validationChanged"]}}};c.style=d;export{c as ix_validation_tooltip};
//# sourceMappingURL=p-c36e6627.entry.js.map