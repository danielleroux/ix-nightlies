{"version":3,"names":["paginationCss","IxPaginationStyle0","Pagination","this","baseButtonConfig","variant","outline","ghost","iconOnly","iconOval","disabled","icon","loading","selected","type","extraClasses","maxCountPages","selectPage","index","selectedPage","count","pageSelected","emit","increase","decrease","getPageButton","baseButtonProps","Object","assign","onClick","ariaAttributes","a11yBoolean","h","BaseButton","renderPageButtons","pagesBeforeOverflow","Math","floor","hasOverflow","hasOverflowStart","hasOverflowEnd","pageButtons","start","end","min","pageCount","max","push","i","class","render","Host","key","advanced","i18nPage","value","onChange","e","Number","parseInt","target","i18nOf","showItemCount","i18nItems","hideListHeader","i18nPlaceholder","i18nSelectListHeader","itemCount","onValueChange","Array","isArray","detail","itemCountChanged","label"],"sources":["src/components/pagination/pagination.scss?tag=ix-pagination&encapsulation=shadow","src/components/pagination/pagination.tsx"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2022 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n@import 'common-variables';\n@import 'legacy/components/forms';\n@import '../icon-button/icon-button';\n@import 'mixins/shadow-dom/component';\n\n:host {\n  @include ix-component;\n\n  &,\n  .advanced-pagination,\n  .item-count {\n    display: inline-flex;\n    align-items: center;\n  }\n\n  .basic-pagination {\n    padding: 0 0.125rem;\n  }\n\n  .advanced-pagination {\n    padding: 0 $medium-space;\n  }\n\n  .page-selection {\n    width: 4.125rem;\n    text-align: center;\n    margin: 0 $small-space;\n  }\n\n  .page-buttons {\n    white-space: nowrap;\n  }\n\n  .total-count {\n    white-space: nowrap;\n  }\n\n  .item-count {\n    flex-grow: 1;\n    justify-content: flex-end;\n    margin-inline-start: $large-space;\n\n    ix-select {\n      width: 4.5rem;\n      margin-inline-start: $large-space;\n    }\n  }\n\n  button {\n    width: auto;\n    min-width: 2rem;\n    height: 2rem;\n    padding: 0 0.5rem;\n  }\n\n  button + button {\n    margin-inline-start: 0.125rem;\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2022 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Prop,\n} from '@stencil/core';\nimport { BaseButton, BaseButtonProps } from '../button/base-button';\nimport { a11yBoolean } from '../utils/a11y';\n\n/**\n * @since 1.5.0\n */\n@Component({\n  tag: 'ix-pagination',\n  styleUrl: 'pagination.scss',\n  shadow: true,\n})\nexport class Pagination {\n  private readonly baseButtonConfig: BaseButtonProps = {\n    variant: 'secondary',\n    outline: false,\n    ghost: true,\n    iconOnly: true,\n    iconOval: false,\n    disabled: false,\n    icon: '',\n    loading: false,\n    selected: false,\n    type: 'button',\n    extraClasses: {\n      ['w-auto']: true,\n    },\n  };\n\n  private readonly maxCountPages = 7;\n\n  @Element() hostElement!: HTMLIxPaginationElement;\n\n  /**\n   * Advanced mode\n   */\n  @Prop() advanced: boolean;\n\n  /**\n   * Number of items shown at once.\n   * Can only be changed in advaced mode.\n   */\n  @Prop() itemCount = 15;\n\n  /**\n   * Show item count in advanced mode\n   */\n  @Prop() showItemCount = true;\n\n  /**\n   * Total number of pages\n   */\n  @Prop() count: number;\n\n  /**\n   * Zero based index of currently selected page\n   */\n  @Prop({ mutable: true }) selectedPage = 0;\n\n  /**\n   * i18n\n   */\n  @Prop() i18nPage = 'Page';\n\n  /**\n   * i18n\n   */\n  @Prop() i18nOf = 'of';\n\n  /**\n  /**\n   * i18n\n   */\n  @Prop() i18nItems = 'Items';\n\n  /**\n   * Page selection event\n   */\n  @Event() pageSelected: EventEmitter<number>;\n\n  /**\n   * Item count change event\n   */\n  @Event() itemCountChanged: EventEmitter<number>;\n\n  private selectPage(index: number) {\n    if (index < 0) {\n      this.selectedPage = 0;\n    } else if (index > this.count - 1) {\n      this.selectedPage = this.count - 1;\n    } else {\n      this.selectedPage = index;\n    }\n\n    this.pageSelected.emit(this.selectedPage);\n  }\n\n  private increase() {\n    if (this.selectedPage === this.count - 1) {\n      return;\n    }\n\n    this.selectPage(this.selectedPage + 1);\n  }\n\n  private decrease() {\n    if (this.selectedPage === 0) {\n      return;\n    }\n\n    this.selectPage(this.selectedPage - 1);\n  }\n\n  private getPageButton(index: number) {\n    const baseButtonProps: BaseButtonProps = {\n      ...this.baseButtonConfig,\n      onClick: () => this.selectPage(index),\n      selected: this.selectedPage === index,\n      ariaAttributes: {\n        'aria-pressed': a11yBoolean(this.selectedPage === index),\n      },\n    };\n\n    return <BaseButton {...baseButtonProps}>{index + 1}</BaseButton>;\n  }\n\n  private renderPageButtons() {\n    const pagesBeforeOverflow = Math.floor(this.maxCountPages / 2);\n    const hasOverflow = this.count > this.maxCountPages;\n    const hasOverflowStart =\n      hasOverflow && this.selectedPage > pagesBeforeOverflow;\n    const hasOverflowEnd =\n      hasOverflow && this.selectedPage < this.count - pagesBeforeOverflow - 1;\n    const pageButtons = [];\n\n    let start = 0;\n    let end = Math.min(this.count, this.maxCountPages);\n    let pageCount = Math.floor((this.maxCountPages - 4) / 2);\n\n    if (hasOverflowStart) {\n      const baseButtonProps = {\n        ...this.baseButtonConfig,\n        onClick: () => {\n          if (hasOverflowEnd) {\n            this.selectPage(this.selectedPage - Math.max(0, 2 * pageCount + 1));\n          } else {\n            this.selectPage(this.count - this.maxCountPages);\n          }\n        },\n      };\n      pageButtons.push(this.getPageButton(0));\n      pageButtons.push(<BaseButton {...baseButtonProps}>...</BaseButton>);\n\n      if (hasOverflowEnd) {\n        start = this.count - this.maxCountPages + 2;\n      } else {\n        start = this.count - this.maxCountPages + 2;\n        end = this.count;\n      }\n    }\n\n    if (hasOverflowEnd) {\n      if (hasOverflowStart) {\n        start = this.selectedPage - pageCount;\n        end = this.selectedPage + pageCount + 1;\n      } else {\n        end = this.maxCountPages - 2;\n      }\n    }\n\n    for (let i = start; i < end; i++) {\n      pageButtons.push(this.getPageButton(i));\n    }\n\n    if (hasOverflowEnd) {\n      const baseButtonProps = {\n        ...this.baseButtonConfig,\n        onClick: () => {\n          if (hasOverflowStart) {\n            this.selectPage(this.selectedPage + Math.max(0, 2 * pageCount + 1));\n          } else {\n            this.selectPage(this.maxCountPages - 1);\n          }\n        },\n      };\n      pageButtons.push(<BaseButton {...baseButtonProps}>...</BaseButton>);\n      pageButtons.push(this.getPageButton(this.count - 1));\n    }\n\n    return <span class=\"page-buttons\">{pageButtons}</span>;\n  }\n\n  render() {\n    return (\n      <Host>\n        <ix-icon-button\n          disabled={this.selectedPage === 0}\n          ghost\n          icon={'chevron-left-small'}\n          onClick={() => this.decrease()}\n        ></ix-icon-button>\n\n        {this.advanced ? (\n          <div class=\"advanced-pagination\">\n            <ix-typography variant=\"default\">{this.i18nPage}</ix-typography>\n            <input\n              class=\"form-control page-selection\"\n              type=\"number\"\n              min=\"1\"\n              max={this.count}\n              value={this.selectedPage + 1}\n              onChange={(e) => {\n                const index = Number.parseInt(e.target['value']);\n                this.selectPage(index - 1);\n              }}\n            />\n            <span class=\"total-count\">\n              <ix-typography variant=\"default\">\n                {this.i18nOf} {this.count}\n              </ix-typography>\n            </span>\n          </div>\n        ) : (\n          <span class=\"basic-pagination\">{this.renderPageButtons()} </span>\n        )}\n\n        <ix-icon-button\n          disabled={this.selectedPage === this.count - 1}\n          ghost\n          icon={'chevron-right-small'}\n          onClick={() => this.increase()}\n        ></ix-icon-button>\n\n        {this.advanced && this.showItemCount ? (\n          <span class=\"item-count\">\n            <ix-typography variant=\"default\">{this.i18nItems}</ix-typography>\n            <ix-select\n              hideListHeader\n              i18nPlaceholder=\"\"\n              i18nSelectListHeader=\"\"\n              value={`${this.itemCount}`}\n              onValueChange={(e) => {\n                const count = Number.parseInt(\n                  Array.isArray(e.detail) ? e.detail[0] : e.detail\n                );\n\n                this.itemCountChanged.emit(count);\n              }}\n            >\n              <ix-select-item label=\"10\" value=\"10\"></ix-select-item>\n              <ix-select-item label=\"15\" value=\"15\"></ix-select-item>\n              <ix-select-item label=\"20\" value=\"20\"></ix-select-item>\n              <ix-select-item label=\"40\" value=\"40\"></ix-select-item>\n              <ix-select-item label=\"100\" value=\"100\"></ix-select-item>\n            </ix-select>\n          </span>\n        ) : (\n          ''\n        )}\n      </Host>\n    );\n  }\n}\n"],"mappings":"mIAAA,MAAMA,EAAgB,g/sBACtB,MAAAC,EAAeD,E,MC4BFE,EAAU,M,uHACJC,KAAAC,iBAAoC,CACnDC,QAAS,YACTC,QAAS,MACTC,MAAO,KACPC,SAAU,KACVC,SAAU,MACVC,SAAU,MACVC,KAAM,GACNC,QAAS,MACTC,SAAU,MACVC,KAAM,SACNC,aAAc,CACZ,CAAC,UAAW,OAICZ,KAAAa,cAAgB,E,uCAab,G,mBAKI,K,uCAUgB,E,cAKrB,O,YAKF,K,eAMG,O,CAYZ,UAAAC,CAAWC,GACjB,GAAIA,EAAQ,EAAG,CACbf,KAAKgB,aAAe,C,MACf,GAAID,EAAQf,KAAKiB,MAAQ,EAAG,CACjCjB,KAAKgB,aAAehB,KAAKiB,MAAQ,C,KAC5B,CACLjB,KAAKgB,aAAeD,C,CAGtBf,KAAKkB,aAAaC,KAAKnB,KAAKgB,a,CAGtB,QAAAI,GACN,GAAIpB,KAAKgB,eAAiBhB,KAAKiB,MAAQ,EAAG,CACxC,M,CAGFjB,KAAKc,WAAWd,KAAKgB,aAAe,E,CAG9B,QAAAK,GACN,GAAIrB,KAAKgB,eAAiB,EAAG,CAC3B,M,CAGFhB,KAAKc,WAAWd,KAAKgB,aAAe,E,CAG9B,aAAAM,CAAcP,GACpB,MAAMQ,EAAeC,OAAAC,OAAAD,OAAAC,OAAA,GAChBzB,KAAKC,kBAAgB,CACxByB,QAAS,IAAM1B,KAAKc,WAAWC,GAC/BL,SAAUV,KAAKgB,eAAiBD,EAChCY,eAAgB,CACd,eAAgBC,EAAY5B,KAAKgB,eAAiBD,MAItD,OAAOc,EAACC,EAAUN,OAAAC,OAAA,GAAKF,GAAkBR,EAAQ,E,CAG3C,iBAAAgB,GACN,MAAMC,EAAsBC,KAAKC,MAAMlC,KAAKa,cAAgB,GAC5D,MAAMsB,EAAcnC,KAAKiB,MAAQjB,KAAKa,cACtC,MAAMuB,EACJD,GAAenC,KAAKgB,aAAegB,EACrC,MAAMK,EACJF,GAAenC,KAAKgB,aAAehB,KAAKiB,MAAQe,EAAsB,EACxE,MAAMM,EAAc,GAEpB,IAAIC,EAAQ,EACZ,IAAIC,EAAMP,KAAKQ,IAAIzC,KAAKiB,MAAOjB,KAAKa,eACpC,IAAI6B,EAAYT,KAAKC,OAAOlC,KAAKa,cAAgB,GAAK,GAEtD,GAAIuB,EAAkB,CACpB,MAAMb,EAAeC,OAAAC,OAAAD,OAAAC,OAAA,GAChBzB,KAAKC,kBAAgB,CACxByB,QAAS,KACP,GAAIW,EAAgB,CAClBrC,KAAKc,WAAWd,KAAKgB,aAAeiB,KAAKU,IAAI,EAAG,EAAID,EAAY,G,KAC3D,CACL1C,KAAKc,WAAWd,KAAKiB,MAAQjB,KAAKa,c,KAIxCyB,EAAYM,KAAK5C,KAAKsB,cAAc,IACpCgB,EAAYM,KAAKf,EAACC,EAAUN,OAAAC,OAAA,GAAKF,GAAe,QAEhD,GAAIc,EAAgB,CAClBE,EAAQvC,KAAKiB,MAAQjB,KAAKa,cAAgB,C,KACrC,CACL0B,EAAQvC,KAAKiB,MAAQjB,KAAKa,cAAgB,EAC1C2B,EAAMxC,KAAKiB,K,EAIf,GAAIoB,EAAgB,CAClB,GAAID,EAAkB,CACpBG,EAAQvC,KAAKgB,aAAe0B,EAC5BF,EAAMxC,KAAKgB,aAAe0B,EAAY,C,KACjC,CACLF,EAAMxC,KAAKa,cAAgB,C,EAI/B,IAAK,IAAIgC,EAAIN,EAAOM,EAAIL,EAAKK,IAAK,CAChCP,EAAYM,KAAK5C,KAAKsB,cAAcuB,G,CAGtC,GAAIR,EAAgB,CAClB,MAAMd,EAAeC,OAAAC,OAAAD,OAAAC,OAAA,GAChBzB,KAAKC,kBAAgB,CACxByB,QAAS,KACP,GAAIU,EAAkB,CACpBpC,KAAKc,WAAWd,KAAKgB,aAAeiB,KAAKU,IAAI,EAAG,EAAID,EAAY,G,KAC3D,CACL1C,KAAKc,WAAWd,KAAKa,cAAgB,E,KAI3CyB,EAAYM,KAAKf,EAACC,EAAUN,OAAAC,OAAA,GAAKF,GAAe,QAChDe,EAAYM,KAAK5C,KAAKsB,cAActB,KAAKiB,MAAQ,G,CAGnD,OAAOY,EAAA,QAAMiB,MAAM,gBAAgBR,E,CAGrC,MAAAS,GACE,OACElB,EAACmB,EAAI,CAAAC,IAAA,4CACHpB,EAAA,kBAAAoB,IAAA,2CACE1C,SAAUP,KAAKgB,eAAiB,EAChCZ,MAAK,KACLI,KAAM,qBACNkB,QAAS,IAAM1B,KAAKqB,aAGrBrB,KAAKkD,SACJrB,EAAA,OAAKiB,MAAM,uBACTjB,EAAA,iBAAe3B,QAAQ,WAAWF,KAAKmD,UACvCtB,EAAA,SACEiB,MAAM,8BACNnC,KAAK,SACL8B,IAAI,IACJE,IAAK3C,KAAKiB,MACVmC,MAAOpD,KAAKgB,aAAe,EAC3BqC,SAAWC,IACT,MAAMvC,EAAQwC,OAAOC,SAASF,EAAEG,OAAO,UACvCzD,KAAKc,WAAWC,EAAQ,EAAE,IAG9Bc,EAAA,QAAMiB,MAAM,eACVjB,EAAA,iBAAe3B,QAAQ,WACpBF,KAAK0D,OAAM,IAAG1D,KAAKiB,SAK1BY,EAAA,QAAMiB,MAAM,oBAAoB9C,KAAK+B,oBAAmB,KAG1DF,EAAA,kBAAAoB,IAAA,2CACE1C,SAAUP,KAAKgB,eAAiBhB,KAAKiB,MAAQ,EAC7Cb,MAAK,KACLI,KAAM,sBACNkB,QAAS,IAAM1B,KAAKoB,aAGrBpB,KAAKkD,UAAYlD,KAAK2D,cACrB9B,EAAA,QAAMiB,MAAM,cACVjB,EAAA,iBAAe3B,QAAQ,WAAWF,KAAK4D,WACvC/B,EAAA,aACEgC,eAAc,KACdC,gBAAgB,GAChBC,qBAAqB,GACrBX,MAAO,GAAGpD,KAAKgE,YACfC,cAAgBX,IACd,MAAMrC,EAAQsC,OAAOC,SACnBU,MAAMC,QAAQb,EAAEc,QAAUd,EAAEc,OAAO,GAAKd,EAAEc,QAG5CpE,KAAKqE,iBAAiBlD,KAAKF,EAAM,GAGnCY,EAAA,kBAAgByC,MAAM,KAAKlB,MAAM,OACjCvB,EAAA,kBAAgByC,MAAM,KAAKlB,MAAM,OACjCvB,EAAA,kBAAgByC,MAAM,KAAKlB,MAAM,OACjCvB,EAAA,kBAAgByC,MAAM,KAAKlB,MAAM,OACjCvB,EAAA,kBAAgByC,MAAM,MAAMlB,MAAM,UAE/B,G"}