import{r as t,f as e,h as s,H as i,g as o}from"./p-3b388d55.js";import{a as n}from"./p-702f9349.js";import{m as l}from"./p-68a274e7.js";import"./p-c4749812.js";const a=":host{display:flex;position:absolute;width:100%;height:100%}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .side-panes-wrapper{height:100%;width:100%}:host .row{height:100%;width:100%;overflow:hidden;display:flex;flex-direction:row;justify-content:space-between;position:relative}:host .col{height:100%;width:100%;overflow:hidden;display:flex;flex-direction:column;justify-content:space-between;position:relative}:host .content{width:100%;height:100%;overflow:auto}:host .absolute-top{width:100%;position:absolute;top:0}:host .absolute-bottom{width:100%;position:absolute;bottom:0}:host .absolute-left{height:100%;position:absolute;left:0}:host .absolute-right{height:100%;position:absolute;right:0}:host .padding-top{padding-top:2.5rem}:host .padding-bottom{padding-bottom:2.5rem}:host .padding-left{padding-left:2.5rem}:host .padding-right{padding-right:2.5rem}";const h=a;const r=class{constructor(e){t(this,e);this.panes=[];this.layout="full-vertical";this.variant="inline";this.borderless=false;this.isMobile=false;this.paneElements=0}get currentPanes(){return this.hostElement.querySelectorAll("ix-pane")}componentWillLoad(){this.paneElements=this.currentPanes.length;this.observer=new MutationObserver((t=>{var e,s;if(((e=t[0].addedNodes.item(0))===null||e===void 0?void 0:e.nodeName)==="IX-PANE"){this.paneElements+=1}else if(((s=t[0].removedNodes.item(0))===null||s===void 0?void 0:s.nodeName)==="IX-PANE"){this.paneElements-=1}}));this.observer.observe(this.hostElement,{childList:true});this.isMobile=l("sm");n.onChange.on((()=>{this.isMobile=l("sm")}))}componentDidLoad(){this.setPanes(this.currentPanes)}disconnectedCallback(){var t;(t=this.observer)===null||t===void 0?void 0:t.disconnect()}setPaneVariant(t){if(!t.ignoreLayoutSettings){t.variant=this.variant}}setPaneBorder(t){if(!t.ignoreLayoutSettings){if(this.borderless){t.borderless=true}else{const e=!!this.panes.find((t=>t.slot==="left"&&!t.hideOnCollapse));if(t.variant==="floating"&&this.layout==="full-vertical"&&e&&(t.composition==="top"||t.composition==="bottom")){t.borderless=true}else{t.borderless=false}}}}setPaneZIndex(t){const e=t.slot==="top";const s=t.slot==="bottom";const i=t.slot==="left";const o=t.slot==="right";let n=1;if(this.isMobile){if(s||e){n=3}}else{if(this.layout==="full-vertical"){if(i||o){n=3}}else{if(s||e){n=3}}}t.style.zIndex=n.toString()}setPanes(t){this.panes=[];t.forEach((t=>{this.panes.push({slot:t.slot,hideOnCollapse:t.hideOnCollapse,floating:t.variant==="floating"})}))}closeFloatingPanes(){this.currentPanes.forEach((t=>{if(t.expanded&&t.variant==="floating"){t.expanded=false}}))}configurePanes(){let t=0;let s=0;let i=0;let o=0;this.currentPanes.forEach((e=>{const n=e.slot==="top";const l=e.slot==="bottom";const a=e.slot==="left";const h=e.slot==="right";if(a){if(i){e.slot=undefined;return}i++}else if(h){if(o){e.slot=undefined;return}o++}else if(n){if(t){e.slot=undefined;return}t++}else if(l){if(s){e.slot=undefined;return}s++}else{e.slot=undefined;return}this.setPaneVariant(e);this.setPaneBorder(e);this.setPaneZIndex(e)}));this.setPanes(this.currentPanes);e(this.hostElement)}onSlotChanged(){this.configurePanes()}onCollapsibleChanged(t){const{slot:s,hideOnCollapse:i}=t.detail;this.panes.forEach((t=>{if(t.slot===s){t.hideOnCollapse=i}}));e(this.hostElement)}onVariantChanged(t){const{slot:s,variant:i}=t.detail;this.panes.forEach((t=>{if(t.slot===s){t.floating=i==="floating"}}));e(this.hostElement)}onPaneElementsChange(){this.configurePanes()}onVariableChange(){this.currentPanes.forEach((t=>{this.setPaneVariant(t);this.setPaneBorder(t)}));this.setPanes(this.currentPanes);e(this.hostElement)}onBorderChange(){this.currentPanes.forEach((t=>{this.setPaneBorder(t)}))}onLayoutChange(){this.currentPanes.forEach((t=>{this.setPaneBorder(t);this.setPaneZIndex(t)}))}onMobileChange(){this.currentPanes.forEach((t=>{this.setPaneZIndex(t)}))}hasPadding(t){const e=this.panes.find((e=>e.slot===t));return e?!e.hideOnCollapse&&e.floating:false}hasPaddingMobile(t){const e=this.panes.find((e=>e.slot===t));return e&&!e.hideOnCollapse}slotExists(t){const e=this.panes.find((e=>e.slot===t));return!!e}isFloating(t){const e=this.panes.find((e=>e.slot===t));return e?e.floating:false}render(){return s(i,{key:"56fd9ab50a41ec59e245578a8d87f4c144a669df"},!this.isMobile?this.layout=="full-vertical"?s("div",{class:"side-panes-wrapper"},s("div",{class:{row:true,"padding-left":this.hasPadding("left"),"padding-right":this.hasPadding("right")}},s("div",{key:"left",class:{"absolute-left":this.isFloating("left")}},s("slot",{name:"left"})),s("div",{class:{col:true,"padding-top":this.hasPadding("top"),"padding-bottom":this.hasPadding("bottom")}},s("div",{key:"top",class:{"absolute-top":this.isFloating("top")}},s("slot",{name:"top"})),s("div",{key:"content",class:"content",onClick:()=>this.closeFloatingPanes()},s("slot",{name:"content"})),s("div",{key:"bottom",class:{"absolute-bottom":this.isFloating("bottom")}},s("slot",{name:"bottom"}))),s("div",{key:"right",class:{"absolute-right":this.isFloating("right")}},s("slot",{name:"right"})))):s("div",{class:"side-panes-wrapper"},s("div",{class:{col:true,"padding-top":this.hasPadding("top"),"padding-bottom":this.hasPadding("bottom")}},s("div",{key:"top",class:{"absolute-top":this.isFloating("top")}},s("slot",{name:"top"})),s("div",{class:{row:true,"padding-left":this.hasPadding("left"),"padding-right":this.hasPadding("right")}},s("div",{key:"left",class:{"absolute-left":this.isFloating("left")}},s("slot",{name:"left"})),s("div",{key:"content",class:"content",onClick:()=>this.closeFloatingPanes()},s("slot",{name:"content"})),s("div",{key:"right",class:{"absolute-right":this.isFloating("right")}},s("slot",{name:"right"}))),s("div",{key:"bottom",class:{"absolute-bottom":this.isFloating("bottom")}},s("slot",{name:"bottom"})))):s("div",{class:"col"},s("div",{key:"top",style:{minHeight:this.hasPaddingMobile("top")?"48px":"0",display:this.slotExists("top")?"block":"none"}},s("slot",{name:"top"})),s("div",{key:"left",style:{minHeight:this.hasPaddingMobile("left")?"48px":"0",display:this.slotExists("left")?"block":"none"}},s("slot",{name:"left"})),s("div",{key:"content",class:"content",onClick:()=>this.closeFloatingPanes()},s("slot",{name:"content"})),s("div",{key:"right",style:{minHeight:this.hasPaddingMobile("right")?"48px":"0",display:this.slotExists("right")?"block":"none"}},s("slot",{name:"right"})),s("div",{key:"bottom",style:{minHeight:this.hasPaddingMobile("bottom")?"48px":"0",display:this.slotExists("bottom")?"block":"none"}},s("slot",{name:"bottom"}))))}get hostElement(){return o(this)}static get watchers(){return{paneElements:["onPaneElementsChange"],variant:["onVariableChange"],borderless:["onBorderChange"],layout:["onLayoutChange"],isMobile:["onMobileChange"]}}};r.style=h;export{r as ix_pane_layout};
//# sourceMappingURL=p-9281a4f4.entry.js.map